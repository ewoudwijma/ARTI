Heap Setup < 0 (0ms) wled.json Examples/BrightPulse.wled
Heap open definition file > 0
Heap definitionJsonDoc 16384 > 0 (0ms)
programFile size 238 bytes
Heap parseTreeJsonDoc 65536 > 0 (0ms)
 PROGRAM PROGRAM -> [ID BrightPulse] 0
 ID BrightPulse -> [LCURL {] 0
  LCURL { -> [FUNCTION FUNCTION] 1
     FUNCTION FUNCTION -> [ID renderFrame] 4
     ID renderFrame -> [LPAREN (] 4
      LPAREN ( -> [RPAREN )] 5
      found formals
      RPAREN ) -> [LCURL {] 5
      LCURL { -> [ID lum] 5
         ID lum -> [ASSIGN =] 8
         found varref
           ASSIGN = -> [ID constrain] 10
         found assignoperator
             ID constrain -> [LPAREN (] 12
             LPAREN ( -> [ID sampleAvg] 12
                  ID sampleAvg -> [MUL *] 17
                 ID sampleAvg -> [MUL *] 16
                 found varref
                found factor
                  MUL * -> [INTEGER_CONST 256] 17
                  INTEGER_CONST 256 -> [DIV /] 17
                 found factor
                  DIV / -> [LPAREN (] 17
                   LPAREN ( -> [INTEGER_CONST 256] 18
                      INTEGER_CONST 256 -> [MINUS -] 21
                     found factor
                    found term
                      MINUS - -> [ID speedSlider] 21
                        ID speedSlider -> [RPAREN )] 23
                       ID speedSlider -> [RPAREN )] 22
                       found varref
                      found factor
                     found term
                   found expr
                   RPAREN ) -> [COMMA ,] 18
                 found factor
               found term
              found expr
               COMMA , -> [INTEGER_CONST 0] 14
                  INTEGER_CONST 0 -> [COMMA ,] 17
                 found factor
                found term
               found expr
               COMMA , -> [INTEGER_CONST 255] 14
                  INTEGER_CONST 255 -> [RPAREN )] 17
                 found factor
                found term
               found expr
             found actuals
             RPAREN ) -> [ID fill] 12
            found call
           found factor
          found term
         found expr
        found assign
       found statement
         ID fill -> [LPAREN (] 8
         found varref
         ID fill -> [LPAREN (] 8
         LPAREN ( -> [ID colorBlend] 8
              ID colorBlend -> [LPAREN (] 13
              LPAREN ( -> [ID segcolor] 13
                   ID segcolor -> [LPAREN (] 18
                   LPAREN ( -> [INTEGER_CONST 1] 18
                       INTEGER_CONST 1 -> [RPAREN )] 22
                      found factor
                     found term
                    found expr
                   found actuals
                   RPAREN ) -> [COMMA ,] 18
                  found call
                 found factor
                found term
               found expr
                COMMA , -> [ID segcolor] 15
                    ID segcolor -> [LPAREN (] 19
                    LPAREN ( -> [INTEGER_CONST 0] 19
                        INTEGER_CONST 0 -> [RPAREN )] 23
                       found factor
                      found term
                     found expr
                    found actuals
                    RPAREN ) -> [COMMA ,] 19
                   found call
                  found factor
                 found term
                found expr
                COMMA , -> [ID lum] 15
                    ID lum -> [RPAREN )] 19
                   ID lum -> [RPAREN )] 18
                   found varref
                  found factor
                 found term
                found expr
              found actuals
              RPAREN ) -> [RPAREN )] 13
             found call
            found factor
           found term
          found expr
         found actuals
         RPAREN ) -> [RCURL }] 8
        found call
       found statement
      RCURL } -> [RCURL }] 5
     found block
    found function
   found statement
  RCURL } 1
 found block
Symbol program Parsed until (13,1) 238 of 238
definitionJson usage 9415 of 16384 (57 %) (23 0 6)
parseTree usage      8266 of 65536 (13 %) (1 0 28)
garbageCollect       6122 of 65536 (9 %) (1 0 28)
Destruct Lexer
Heap parse > 0 (0ms)

Optimizer
                       symbol to shrink factor in term = {"INTEGER_CONST":"256"} from {"factor":{"INTEGER_CONST":"256"}}
                         symbol to shrink factor in term = {"varref":{"ID":"speedSlider"}} from {"factor":{"varref":{"ID":"speedSlider"}}}
                    symbol to shrink factor in term = {"INTEGER_CONST":"0"} from {"factor":{"INTEGER_CONST":"0"}}
                    symbol to shrink factor in term = {"INTEGER_CONST":"255"} from {"factor":{"INTEGER_CONST":"255"}}
             symbol to shrink factor in term = {"call":{"ID":"constrain","actuals":{"expr":{"term":{"factor":{"varref":{"ID":"sampleAvg"}},"*":[{"MUL":"*"},{"factor":{"INTEGER_CONST":"256"}},{"DIV":"/"},{"factor":{"expr":{"term":{"INTEGER_CONST":"256"},"*":[{"MINUS":"-"},{"term":{"varref":{"ID":"speedSlider"}}}]}}}]}},"*":[{},{"expr":{"term":{"INTEGER_CONST":"0"}}},{},{"expr":{"term":{"INTEGER_CONST":"255"}}}]}}} from {"factor":{"call":{"ID":"constrain","actuals":{"expr":{"term":{"factor":{"varref":{"ID":"sampleAvg"}},"*":[{"MUL":"*"},{"factor":{"INTEGER_CONST":"256"}},{"DIV":"/"},{"factor":{"expr":{"term":{"INTEGER_CONST":"256"},"*":[{"MINUS":"-"},{"term":{"varref":{"ID":"speedSlider"}}}]}}}]}},"*":[{},{"expr":{"term":{"INTEGER_CONST":"0"}}},{},{"expr":{"term":{"INTEGER_CONST":"255"}}}]}}}}
                        symbol to shrink factor in term = {"INTEGER_CONST":"1"} from {"factor":{"INTEGER_CONST":"1"}}
                   symbol to shrink factor in term = {"call":{"ID":"segcolor","actuals":{"expr":{"term":{"INTEGER_CONST":"1"}}}}} from {"factor":{"call":{"ID":"segcolor","actuals":{"expr":{"term":{"INTEGER_CONST":"1"}}}}}}
                          symbol to shrink factor in term = {"INTEGER_CONST":"0"} from {"factor":{"INTEGER_CONST":"0"}}
                     symbol to shrink factor in term = {"call":{"ID":"segcolor","actuals":{"expr":{"term":{"INTEGER_CONST":"0"}}}}} from {"factor":{"call":{"ID":"segcolor","actuals":{"expr":{"term":{"INTEGER_CONST":"0"}}}}}}
                     symbol to shrink factor in term = {"varref":{"ID":"lum"}} from {"factor":{"varref":{"ID":"lum"}}}
              symbol to shrink factor in term = {"call":{"ID":"colorBlend","actuals":{"expr":{"term":{"call":{"ID":"segcolor","actuals":{"expr":{"term":{"INTEGER_CONST":"1"}}}}}},"*":[{},{"expr":{"term":{"call":{"ID":"segcolor","actuals":{"expr":{"term":{"INTEGER_CONST":"0"}}}}}}},{},{"expr":{"term":{"varref":{"ID":"lum"}}}}]}}} from {"factor":{"call":{"ID":"colorBlend","actuals":{"expr":{"term":{"call":{"ID":"segcolor","actuals":{"expr":{"term":{"INTEGER_CONST":"1"}}}}}},"*":[{},{"expr":{"term":{"call":{"ID":"segcolor","actuals":{"expr":{"term":{"INTEGER_CONST":"0"}}}}}}},{},{"expr":{"term":{"varref":{"ID":"lum"}}}}]}}}}
Heap optimize > 0 (0ms)

Analyzer
 Program BrightPulse 1 0
     Function BrightPulse.renderFrame
         assign renderFrame.lum of notype
         assign lum = (8)
            Ext Function found constrain (11)
                Ext Variable found sampleAvg (15) varref
                      Ext Variable found speedSlider (21) varref
         Ext Function found fill (8)
            Ext Function found colorBlend (11)
               Ext Function found segcolor (14)
                 Ext Function found segcolor (16)
                 VarRef found renderFrame.lum (16)
     0 assign renderFrame.lum of 9 (2)
 0 function BrightPulse.renderFrame of 9 (1)
Heap analyze > 0 (0ms)

interpret BrightPulse 1 1
 program BrightPulse
     Save block of renderFrame
Heap Interpret main > 0 (0ms)
         Call renderFrame (1)
                    varref ext.sampleAvg = 18.000000 (push 1)
                     MUL * (Push 2)
                      INTEGER_CONST 256 (Push 3)
                     DIV / (Push 4)
                        INTEGER_CONST 256 (Push 5)
                         MINUS - (Push 6)
                          varref ext.speedSlider = 13.000000 (push 7)
                      256.000000 - 13.000000 = 243.000000 (push 8)
                  18.000000 * 256.000000 = 4608.000000 (push 6)
                  4608.000000 / 243.000000 = 18.962963 (push 6)
                     INTEGER_CONST 0 (Push 2)
                     INTEGER_CONST 255 (Push 3)
                Call constrain(18.962963, 0.000000, 255.000000) = 273.962963
             renderFrame.lum := 273.962963 (pop 0) 2-0
                      INTEGER_CONST 1 (Push 1)
                   Call segcolor(1.000000) = 1.000000
                        INTEGER_CONST 0 (Push 2)
                     Call segcolor(0.000000) = 0.000000
                     varref renderFrame.lum = 273.962963 (push 3) 2-0
                Call colorBlend(1.000000, 0.000000, 273.962963) = 274.962963
fill(274.962963)
             Call fill(274.962963)
Destruct activation record renderFrame
         Call renderFrame (1)
                    varref ext.sampleAvg = 18.000000 (push 1)
                     MUL * (Push 2)
                      INTEGER_CONST 256 (Push 3)
                     DIV / (Push 4)
                        INTEGER_CONST 256 (Push 5)
                         MINUS - (Push 6)
                          varref ext.speedSlider = 13.000000 (push 7)
                      256.000000 - 13.000000 = 243.000000 (push 8)
                  18.000000 * 256.000000 = 4608.000000 (push 6)
                  4608.000000 / 243.000000 = 18.962963 (push 6)
                     INTEGER_CONST 0 (Push 2)
                     INTEGER_CONST 255 (Push 3)
                Call constrain(18.962963, 0.000000, 255.000000) = 273.962963
             renderFrame.lum := 273.962963 (pop 0) 2-0
                      INTEGER_CONST 1 (Push 1)
                   Call segcolor(1.000000) = 1.000000
                        INTEGER_CONST 0 (Push 2)
                     Call segcolor(0.000000) = 0.000000
                     varref renderFrame.lum = 273.962963 (push 3) 2-0
                Call colorBlend(1.000000, 0.000000, 273.962963) = 274.962963
fill(274.962963)
             Call fill(274.962963)
Destruct activation record renderFrame
Heap close Arti < 0
Destruct callstack
Destruct valueStack
Heap Destruct Symbol lum (0)
Heap Destruct ScopedSymbolTable renderFrame (0)
Heap Destruct Symbol renderFrame (0)
Heap Destruct ScopedSymbolTable BrightPulse (0)
definitionJson usage  9415 of 16384 (57 %) (23 0 6)
parseTree usage       9578 of 65536 (15 %) (1 0 26)
