// fill all leds based on sampleAvg value
// idea by @tony

program BrightPulse
{

  function renderFrame() {
    sa = sampleAvg * 256
    sa = sa / (256 - speed)
    lum = constrain(sa, 0, 255)
    sc0 = segcolor(0)
    sc1 = segcolor(1)
    cb = colorBlend(sc1, sc0, lum)
    fill(cb)
  }

}