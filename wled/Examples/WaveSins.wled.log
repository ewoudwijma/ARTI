Heap Setup < 0 (0ms) wled.json Examples/WaveSins.wled
Heap open definition file > 0
Heap definitionJsonDoc 16384 > 0 (0ms)
programFile size 402 bytes
Heap parseTreeJsonDoc 65536 > 0 (0ms)
 PROGRAM PROGRAM -> [ID WaveSins] 0
 ID WaveSins -> [LCURL {] 0
  LCURL { -> [FUNCTION FUNCTION] 1
     FUNCTION FUNCTION -> [ID renderLed] 4
     ID renderLed -> [LPAREN (] 4
      LPAREN ( -> [ID i] 5
       ID i -> [RPAREN )] 6
       found formal
      found formals
      RPAREN ) -> [LCURL {] 5
      LCURL { -> [ID bri] 5
         ID bri -> [ASSIGN =] 8
         found varref
           ASSIGN = -> [ID sin] 10
         found assignoperator
             ID sin -> [LPAREN (] 12
             LPAREN ( -> [ID millis] 12
                  ID millis -> [LPAREN (] 17
                  LPAREN ( -> [RPAREN )] 17
                  found actuals
                  RPAREN ) -> [DIV /] 17
                 found call
                found factor
                  DIV / -> [INTEGER_CONST 4] 17
                  INTEGER_CONST 4 -> [PLUS +] 17
                 found factor
               found term
                 PLUS + -> [ID i] 16
                   ID i -> [MUL *] 18
                  ID i -> [MUL *] 17
                  found varref
                 found factor
                   MUL * -> [ID intensitySlider] 18
                    ID intensitySlider -> [RPAREN )] 19
                   ID intensitySlider -> [RPAREN )] 18
                   found varref
                  found factor
                found term
              found expr
             found actuals
             RPAREN ) -> [MUL *] 12
            found call
           found factor
             MUL * -> [INTEGER_CONST 128] 12
             INTEGER_CONST 128 -> [PLUS +] 12
            found factor
          found term
            PLUS + -> [INTEGER_CONST 128] 11
             INTEGER_CONST 128 -> [ID leds] 12
            found factor
           found term
         found expr
        found assign
       found statement
         ID leds -> [LBRACKET [] 8
         found varref
          LBRACKET [ -> [ID i] 9
               ID i -> [RBRACKET ]] 14
              ID i -> [RBRACKET ]] 13
              found varref
             found factor
            found term
           found expr
          found indices
          RBRACKET ] -> [ASSIGN =] 9
           ASSIGN = -> [ID colorFromPalette] 10
         found assignoperator
             ID colorFromPalette -> [LPAREN (] 12
             LPAREN ( -> [ID beatSin] 12
                  ID beatSin -> [LPAREN (] 17
                  LPAREN ( -> [ID speedSlider] 17
                       ID speedSlider -> [COMMA ,] 22
                      ID speedSlider -> [COMMA ,] 21
                      found varref
                     found factor
                    found term
                   found expr
                    COMMA , -> [ID custom1Slider] 19
                        ID custom1Slider -> [COMMA ,] 23
                       ID custom1Slider -> [COMMA ,] 22
                       found varref
                      found factor
                     found term
                    found expr
                    COMMA , -> [ID custom1Slider] 19
                        ID custom1Slider -> [PLUS +] 23
                       ID custom1Slider -> [PLUS +] 22
                       found varref
                      found factor
                     found term
                       PLUS + -> [ID custom2Slider] 22
                         ID custom2Slider -> [COMMA ,] 24
                        ID custom2Slider -> [COMMA ,] 23
                        found varref
                       found factor
                      found term
                    found expr
                    COMMA , -> [INTEGER_CONST 0] 19
                       INTEGER_CONST 0 -> [COMMA ,] 22
                      found factor
                     found term
                    found expr
                    COMMA , -> [ID i] 19
                        ID i -> [MUL *] 23
                       ID i -> [MUL *] 22
                       found varref
                      found factor
                        MUL * -> [ID custom3Slider] 23
                         ID custom3Slider -> [RPAREN )] 24
                        ID custom3Slider -> [RPAREN )] 23
                        found varref
                       found factor
                     found term
                    found expr
                  found actuals
                  RPAREN ) -> [COMMA ,] 17
                 found call
                found factor
               found term
              found expr
               COMMA , -> [ID bri] 14
                   ID bri -> [RPAREN )] 18
                  ID bri -> [RPAREN )] 17
                  found varref
                 found factor
                found term
               found expr
             found actuals
             RPAREN ) -> [RCURL }] 12
            found call
           found factor
          found term
         found expr
        found assign
       found statement
      RCURL } -> [RCURL }] 5
     found block
    found function
   found statement
  RCURL } 1
 found block
Symbol program Parsed until (15,1) 402 of 402
definitionJson usage 9415 of 16384 (57 %) (23 0 6)
parseTree usage      10350 of 65536 (16 %) (1 0 30)
garbageCollect       7470 of 65536 (11 %) (1 0 30)
Destruct Lexer
Heap parse > 0 (0ms)

Optimizer
               symbol to shrink factor in term = {"INTEGER_CONST":"128"} from {"factor":{"INTEGER_CONST":"128"}}
              symbol to shrink factor in term = {"varref":{"ID":"i"}} from {"factor":{"varref":{"ID":"i"}}}
                       symbol to shrink factor in term = {"varref":{"ID":"speedSlider"}} from {"factor":{"varref":{"ID":"speedSlider"}}}
                         symbol to shrink factor in term = {"varref":{"ID":"custom1Slider"}} from {"factor":{"varref":{"ID":"custom1Slider"}}}
                         symbol to shrink factor in term = {"varref":{"ID":"custom1Slider"}} from {"factor":{"varref":{"ID":"custom1Slider"}}}
                           symbol to shrink factor in term = {"varref":{"ID":"custom2Slider"}} from {"factor":{"varref":{"ID":"custom2Slider"}}}
                         symbol to shrink factor in term = {"INTEGER_CONST":"0"} from {"factor":{"INTEGER_CONST":"0"}}
                  symbol to shrink factor in term = {"call":{"ID":"beatSin","actuals":{"expr":{"term":{"varref":{"ID":"speedSlider"}}},"*":[{},{"expr":{"term":{"varref":{"ID":"custom1Slider"}}}},{},{"expr":{"term":{"varref":{"ID":"custom1Slider"}},"*":[{"PLUS":"+"},{"term":{"varref":{"ID":"custom2Slider"}}}]}},{},{"expr":{"term":{"INTEGER_CONST":"0"}}},{},{"expr":{"term":{"factor":{"varref":{"ID":"i"}},"*":[{"MUL":"*"},{"factor":{"varref":{"ID":"custom3Slider"}}}]}}}]}}} from {"factor":{"call":{"ID":"beatSin","actuals":{"expr":{"term":{"varref":{"ID":"speedSlider"}}},"*":[{},{"expr":{"term":{"varref":{"ID":"custom1Slider"}}}},{},{"expr":{"term":{"varref":{"ID":"custom1Slider"}},"*":[{"PLUS":"+"},{"term":{"varref":{"ID":"custom2Slider"}}}]}},{},{"expr":{"term":{"INTEGER_CONST":"0"}}},{},{"expr":{"term":{"factor":{"varref":{"ID":"i"}},"*":[{"MUL":"*"},{"factor":{"varref":{"ID":"custom3Slider"}}}]}}}]}}}}
                    symbol to shrink factor in term = {"varref":{"ID":"bri"}} from {"factor":{"varref":{"ID":"bri"}}}
             symbol to shrink factor in term = {"call":{"ID":"colorFromPalette","actuals":{"expr":{"term":{"call":{"ID":"beatSin","actuals":{"expr":{"term":{"varref":{"ID":"speedSlider"}}},"*":[{},{"expr":{"term":{"varref":{"ID":"custom1Slider"}}}},{},{"expr":{"term":{"varref":{"ID":"custom1Slider"}},"*":[{"PLUS":"+"},{"term":{"varref":{"ID":"custom2Slider"}}}]}},{},{"expr":{"term":{"INTEGER_CONST":"0"}}},{},{"expr":{"term":{"factor":{"varref":{"ID":"i"}},"*":[{"MUL":"*"},{"factor":{"varref":{"ID":"custom3Slider"}}}]}}}]}}}},"*":[{},{"expr":{"term":{"varref":{"ID":"bri"}}}}]}}} from {"factor":{"call":{"ID":"colorFromPalette","actuals":{"expr":{"term":{"call":{"ID":"beatSin","actuals":{"expr":{"term":{"varref":{"ID":"speedSlider"}}},"*":[{},{"expr":{"term":{"varref":{"ID":"custom1Slider"}}}},{},{"expr":{"term":{"varref":{"ID":"custom1Slider"}},"*":[{"PLUS":"+"},{"term":{"varref":{"ID":"custom2Slider"}}}]}},{},{"expr":{"term":{"INTEGER_CONST":"0"}}},{},{"expr":{"term":{"factor":{"varref":{"ID":"i"}},"*":[{"MUL":"*"},{"factor":{"varref":{"ID":"custom3Slider"}}}]}}}]}}}},"*":[{},{"expr":{"term":{"varref":{"ID":"bri"}}}}]}}}}
Heap optimize > 0 (0ms)

Analyzer
 Program WaveSins 1 0
     Function WaveSins.renderLed
      formal renderLed.i of notype
         assign renderLed.bri of notype
         assign bri = (8)
             Ext Function found sin (12)
                 Ext Function found millis (16)
                   VarRef found renderLed.i (18)
                     Ext Variable found intensitySlider (20) varref
         Ext Variable found leds (8) assign
         assign leds = (8)
            Ext Function found colorFromPalette (11)
               Ext Function found beatSin (14)
                  Ext Variable found speedSlider (17) varref
                    Ext Variable found custom1Slider (19) varref
                    Ext Variable found custom1Slider (19) varref
                      Ext Variable found custom2Slider (21) varref
                     VarRef found renderLed.i (20)
                       Ext Variable found custom3Slider (22) varref
                 VarRef found renderLed.bri (16)
             VarRef found renderLed.i (12)
     0 formal renderLed.i of 9 (2)
     1 assign renderLed.bri of 9 (2)
 0 function WaveSins.renderLed of 9 (1)
Heap analyze > 0 (0ms)

interpret WaveSins 1 1
 program WaveSins
     Save block of renderLed
Heap Interpret main > 0 (0ms)
                     Call millis() = 1000.000000
                      DIV / (Push 2)
                       INTEGER_CONST 4 (Push 3)
                   1000.000000 / 4.000000 = 250.000000 (push 4)
                     PLUS + (Push 2)
                       varref renderLed.i = 0.000000 (push 3) 2-0
                        MUL * (Push 4)
                         varref ext.intensitySlider = 14.000000 (push 5)
                     0.000000 * 14.000000 = 0.000000 (push 6)
                  250.000000 + 0.000000 = 250.000000 (push 4)
                 Call sin(250.000000) = -0.970528
                  MUL * (Push 2)
                   INTEGER_CONST 128 (Push 3)
               -0.970528 * 128.000000 = -124.227587 (push 4)
                 PLUS + (Push 2)
                  INTEGER_CONST 128 (Push 3)
              -124.227587 + 128.000000 = 3.772413 (push 4)
             renderLed.bri := 3.772413 (pop 0) 2-1
                 varref renderLed.i = 0.000000 (push 1) 2-0
                      varref ext.speedSlider = 13.000000 (push 2)
                        varref ext.custom1Slider = 15.000000 (push 3)
                        varref ext.custom1Slider = 15.000000 (push 4)
                         PLUS + (Push 5)
                          varref ext.custom2Slider = 16.000000 (push 6)
                      15.000000 + 16.000000 = 31.000000 (push 7)
                        INTEGER_CONST 0 (Push 5)
                         varref renderLed.i = 0.000000 (push 6) 2-0
                          MUL * (Push 7)
                           varref ext.custom3Slider = 17.000000 (push 8)
                       0.000000 * 17.000000 = 0.000000 (push 9)
                   Call beatSin(13.000000, 15.000000, 31.000000, 0.000000, 0.000000) = 59.000000
                     varref renderLed.bri = 3.772413 (push 3) 2-1
                Call colorFromPalette(59.000000, 3.772413) = 62.772413
arti_set_external_variable: leds(0.000000) := 62.772413
             assign set ext.leds[0.000000] = 62.772413 (1)
                     Call millis() = 1000.000000
                      DIV / (Push 2)
                       INTEGER_CONST 4 (Push 3)
                   1000.000000 / 4.000000 = 250.000000 (push 4)
                     PLUS + (Push 2)
                       varref renderLed.i = 1.000000 (push 3) 2-0
                        MUL * (Push 4)
                         varref ext.intensitySlider = 14.000000 (push 5)
                     1.000000 * 14.000000 = 14.000000 (push 6)
                  250.000000 + 14.000000 = 264.000000 (push 4)
                 Call sin(264.000000) = 0.106017
                  MUL * (Push 2)
                   INTEGER_CONST 128 (Push 3)
               0.106017 * 128.000000 = 13.570238 (push 4)
                 PLUS + (Push 2)
                  INTEGER_CONST 128 (Push 3)
              13.570238 + 128.000000 = 141.570238 (push 4)
             renderLed.bri := 141.570238 (pop 0) 2-1
                 varref renderLed.i = 1.000000 (push 1) 2-0
                      varref ext.speedSlider = 13.000000 (push 2)
                        varref ext.custom1Slider = 15.000000 (push 3)
                        varref ext.custom1Slider = 15.000000 (push 4)
                         PLUS + (Push 5)
                          varref ext.custom2Slider = 16.000000 (push 6)
                      15.000000 + 16.000000 = 31.000000 (push 7)
                        INTEGER_CONST 0 (Push 5)
                         varref renderLed.i = 1.000000 (push 6) 2-0
                          MUL * (Push 7)
                           varref ext.custom3Slider = 17.000000 (push 8)
                       1.000000 * 17.000000 = 17.000000 (push 9)
                   Call beatSin(13.000000, 15.000000, 31.000000, 0.000000, 17.000000) = 76.000000
                     varref renderLed.bri = 141.570238 (push 3) 2-1
                Call colorFromPalette(76.000000, 141.570238) = 217.570238
arti_set_external_variable: leds(1.000000) := 217.570238
             assign set ext.leds[1.000000] = 217.570238 (1)
                     Call millis() = 1000.000000
                      DIV / (Push 2)
                       INTEGER_CONST 4 (Push 3)
                   1000.000000 / 4.000000 = 250.000000 (push 4)
                     PLUS + (Push 2)
                       varref renderLed.i = 2.000000 (push 3) 2-0
                        MUL * (Push 4)
                         varref ext.intensitySlider = 14.000000 (push 5)
                     2.000000 * 14.000000 = 28.000000 (push 6)
                  250.000000 + 28.000000 = 278.000000 (push 4)
                 Call sin(278.000000) = 0.999521
                  MUL * (Push 2)
                   INTEGER_CONST 128 (Push 3)
               0.999521 * 128.000000 = 127.938700 (push 4)
                 PLUS + (Push 2)
                  INTEGER_CONST 128 (Push 3)
              127.938700 + 128.000000 = 255.938700 (push 4)
             renderLed.bri := 255.938700 (pop 0) 2-1
                 varref renderLed.i = 2.000000 (push 1) 2-0
                      varref ext.speedSlider = 13.000000 (push 2)
                        varref ext.custom1Slider = 15.000000 (push 3)
                        varref ext.custom1Slider = 15.000000 (push 4)
                         PLUS + (Push 5)
                          varref ext.custom2Slider = 16.000000 (push 6)
                      15.000000 + 16.000000 = 31.000000 (push 7)
                        INTEGER_CONST 0 (Push 5)
                         varref renderLed.i = 2.000000 (push 6) 2-0
                          MUL * (Push 7)
                           varref ext.custom3Slider = 17.000000 (push 8)
                       2.000000 * 17.000000 = 34.000000 (push 9)
                   Call beatSin(13.000000, 15.000000, 31.000000, 0.000000, 34.000000) = 93.000000
                     varref renderLed.bri = 255.938700 (push 3) 2-1
                Call colorFromPalette(93.000000, 255.938700) = 348.938700
arti_set_external_variable: leds(2.000000) := 348.938700
             assign set ext.leds[2.000000] = 348.938700 (1)
Destruct activation record renderLed
setPixels(-32768.000000)
                     Call millis() = 1000.000000
                      DIV / (Push 2)
                       INTEGER_CONST 4 (Push 3)
                   1000.000000 / 4.000000 = 250.000000 (push 4)
                     PLUS + (Push 2)
                       varref renderLed.i = 0.000000 (push 3) 2-0
                        MUL * (Push 4)
                         varref ext.intensitySlider = 14.000000 (push 5)
                     0.000000 * 14.000000 = 0.000000 (push 6)
                  250.000000 + 0.000000 = 250.000000 (push 4)
                 Call sin(250.000000) = -0.970528
                  MUL * (Push 2)
                   INTEGER_CONST 128 (Push 3)
               -0.970528 * 128.000000 = -124.227587 (push 4)
                 PLUS + (Push 2)
                  INTEGER_CONST 128 (Push 3)
              -124.227587 + 128.000000 = 3.772413 (push 4)
             renderLed.bri := 3.772413 (pop 0) 2-1
                 varref renderLed.i = 0.000000 (push 1) 2-0
                      varref ext.speedSlider = 13.000000 (push 2)
                        varref ext.custom1Slider = 15.000000 (push 3)
                        varref ext.custom1Slider = 15.000000 (push 4)
                         PLUS + (Push 5)
                          varref ext.custom2Slider = 16.000000 (push 6)
                      15.000000 + 16.000000 = 31.000000 (push 7)
                        INTEGER_CONST 0 (Push 5)
                         varref renderLed.i = 0.000000 (push 6) 2-0
                          MUL * (Push 7)
                           varref ext.custom3Slider = 17.000000 (push 8)
                       0.000000 * 17.000000 = 0.000000 (push 9)
                   Call beatSin(13.000000, 15.000000, 31.000000, 0.000000, 0.000000) = 59.000000
                     varref renderLed.bri = 3.772413 (push 3) 2-1
                Call colorFromPalette(59.000000, 3.772413) = 62.772413
arti_set_external_variable: leds(0.000000) := 62.772413
             assign set ext.leds[0.000000] = 62.772413 (1)
                     Call millis() = 1000.000000
                      DIV / (Push 2)
                       INTEGER_CONST 4 (Push 3)
                   1000.000000 / 4.000000 = 250.000000 (push 4)
                     PLUS + (Push 2)
                       varref renderLed.i = 1.000000 (push 3) 2-0
                        MUL * (Push 4)
                         varref ext.intensitySlider = 14.000000 (push 5)
                     1.000000 * 14.000000 = 14.000000 (push 6)
                  250.000000 + 14.000000 = 264.000000 (push 4)
                 Call sin(264.000000) = 0.106017
                  MUL * (Push 2)
                   INTEGER_CONST 128 (Push 3)
               0.106017 * 128.000000 = 13.570238 (push 4)
                 PLUS + (Push 2)
                  INTEGER_CONST 128 (Push 3)
              13.570238 + 128.000000 = 141.570238 (push 4)
             renderLed.bri := 141.570238 (pop 0) 2-1
                 varref renderLed.i = 1.000000 (push 1) 2-0
                      varref ext.speedSlider = 13.000000 (push 2)
                        varref ext.custom1Slider = 15.000000 (push 3)
                        varref ext.custom1Slider = 15.000000 (push 4)
                         PLUS + (Push 5)
                          varref ext.custom2Slider = 16.000000 (push 6)
                      15.000000 + 16.000000 = 31.000000 (push 7)
                        INTEGER_CONST 0 (Push 5)
                         varref renderLed.i = 1.000000 (push 6) 2-0
                          MUL * (Push 7)
                           varref ext.custom3Slider = 17.000000 (push 8)
                       1.000000 * 17.000000 = 17.000000 (push 9)
                   Call beatSin(13.000000, 15.000000, 31.000000, 0.000000, 17.000000) = 76.000000
                     varref renderLed.bri = 141.570238 (push 3) 2-1
                Call colorFromPalette(76.000000, 141.570238) = 217.570238
arti_set_external_variable: leds(1.000000) := 217.570238
             assign set ext.leds[1.000000] = 217.570238 (1)
                     Call millis() = 1000.000000
                      DIV / (Push 2)
                       INTEGER_CONST 4 (Push 3)
                   1000.000000 / 4.000000 = 250.000000 (push 4)
                     PLUS + (Push 2)
                       varref renderLed.i = 2.000000 (push 3) 2-0
                        MUL * (Push 4)
                         varref ext.intensitySlider = 14.000000 (push 5)
                     2.000000 * 14.000000 = 28.000000 (push 6)
                  250.000000 + 28.000000 = 278.000000 (push 4)
                 Call sin(278.000000) = 0.999521
                  MUL * (Push 2)
                   INTEGER_CONST 128 (Push 3)
               0.999521 * 128.000000 = 127.938700 (push 4)
                 PLUS + (Push 2)
                  INTEGER_CONST 128 (Push 3)
              127.938700 + 128.000000 = 255.938700 (push 4)
             renderLed.bri := 255.938700 (pop 0) 2-1
                 varref renderLed.i = 2.000000 (push 1) 2-0
                      varref ext.speedSlider = 13.000000 (push 2)
                        varref ext.custom1Slider = 15.000000 (push 3)
                        varref ext.custom1Slider = 15.000000 (push 4)
                         PLUS + (Push 5)
                          varref ext.custom2Slider = 16.000000 (push 6)
                      15.000000 + 16.000000 = 31.000000 (push 7)
                        INTEGER_CONST 0 (Push 5)
                         varref renderLed.i = 2.000000 (push 6) 2-0
                          MUL * (Push 7)
                           varref ext.custom3Slider = 17.000000 (push 8)
                       2.000000 * 17.000000 = 34.000000 (push 9)
                   Call beatSin(13.000000, 15.000000, 31.000000, 0.000000, 34.000000) = 93.000000
                     varref renderLed.bri = 255.938700 (push 3) 2-1
                Call colorFromPalette(93.000000, 255.938700) = 348.938700
arti_set_external_variable: leds(2.000000) := 348.938700
             assign set ext.leds[2.000000] = 348.938700 (1)
Destruct activation record renderLed
setPixels(-32768.000000)
Heap close Arti < 0
Destruct callstack
Destruct valueStack
Heap Destruct Symbol i (0)
Heap Destruct Symbol bri (0)
Heap Destruct ScopedSymbolTable renderLed (0)
Heap Destruct Symbol renderLed (0)
Heap Destruct ScopedSymbolTable WaveSins (0)
definitionJson usage  9415 of 16384 (57 %) (23 0 6)
parseTree usage       12270 of 65536 (19 %) (1 0 28)
