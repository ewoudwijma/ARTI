{
  "meta": {"version": "0.0.3", "start":"program"},
  "program": ["PROGRAM","ID","block"],
  "block" : ["LCURL",{"*": ["statement"]},"RCURL"],
  "statement" : {"|":["variable","assign","function","call","for", "if","block"]},
  "variable" : ["VAR", "ID"],
  "assign" : ["varleft", {"?": ["LBRACKET", "indices", "RBRACKET"]}, "EQUAL", "expr"],
  "indices" : ["expr", {"*": ["COMMA", "expr"]}],
  "function" : ["FUNCTION", "ID", {"?": ["LPAREN", "formals", "RPAREN"]}, "block"],
  "formals" : {"?":["formal",{"*":["COMMA","formal"]}]},
  "formal" : "ID",
  "call" : ["ID", "LPAREN", "actuals", "RPAREN"],
  "actuals": {"?": ["expr", {"*": ["COMMA", "expr"]}]},
  "for": ["FOR", "LPAREN", "assign", "SEMI", "expr", "SEMI", "increment", "RPAREN", "block"],
  "increment": ["assign"],
  "if": ["IF", "LPAREN", "expr", "RPAREN", "block", "ELSE", "elseCompound"],
  "elseCompound": ["block"],
  "expr" : [ "term", {"*": [{"|": ["PLUS", "MINUS", "EQUAL", "SMALLER", "GREATER"]}, "term"]}],
  "term" : [ "factor", {"*": [{"|": ["MUL", "INTEGER_DIV", "FLOAT_DIV"]}, "factor"]}],
  "factor" : {"|": ["call", "varref", "INTEGER_CONST", "REAL_CONST", ["LPAREN", "expr", "RPAREN"]]},
  "varref": "ID",
  "varleft": "ID",

  "TOKENS":
  {
    "ID": "ID",
    "INTEGER_CONST": "INTEGER_CONST",
    "REAL_CONST": "REAL_CONST",
    "PLUS": "+",
    "MINUS": "-",
    "MUL": "*",
    "FLOAT_DIV": "/",
    "LPAREN": "(",
    "RPAREN": ")",
    "LBRACKET": "[",
    "RBRACKET": "]",
    "COMMA": ",",
    "EQUAL": "=",
    "SMALLER": "<",
    "GREATER": ">",
    "SEMI": ";",

    "PROGRAM": "PROGRAM",
    "INTEGER": "INTEGER",
    "REAL": "REAL",
    "INTEGER_DIV": "DIV",
    "VAR": "VAR",
    "FUNCTION": "FUNCTION",
    "LCURL": "{",
    "RCURL": "}",
    "FOR": "FOR",
    "TO": "TO",
    "DO": "DO",
    "IF": "IF",
    "ELSE": "ELSE"
  },

  "SEMANTICS":
  {
    "program": {"id":"Program", "name":"ID", "block": "block"},
    "variable": {"id":"Var", "name":"ID", "type": "type"},
    "assign": {"id":"Assign", "name":"varleft", "indices":"indices", "value":"expr"},
    "function": {"id":"Function", "name":"ID", "formals": "formals", "block": "block"},
    "formal": {"id":"Formal", "name":"ID", "type": "type"},
    "call": {"id":"Call", "name":"ID", "actuals": "actuals"},
    "for": {"id":"For", "from":"assign", "to":"expr", "increment": "increment", "block":"block"},
    "expr": {"id":"Expr"},
    "term": {"id":"Term"},
    "varref": {"id":"VarRef", "name":"ID"}
  },

  "EXTERNALS":
  {
    "setPixelColor": {"pixelNr":"int", "color":"int"},
    "array": {"width":"int", "height":"int", "return": "tbd"},
    "random": {"return": "int"},
    "printf": {"args": "__VA_ARGS__"},
    "ledCount": {}
  }

}
