{
  "program": ["PROGRAM", "ID", "compound"],
  "compound" : ["CURLYOPEN", "block*", "CURLYCLOSE"],
  "block*": {"*": {"or" : ["variable", "function", "statement"]}},
  "variable" : ["VAR", "ID"],
  "function" : ["FUNCTION", "ID", {"?": ["LPAREN", "formals*", "RPAREN"]}, "compound"],
  "formals*" : {"?": ["formal", {"*":["COMMA", "formal"]}]},
  "formal" : "ID",
  "statement" : {"or": ["compound", "call", "assign","for", "if"]},
  "call" : ["ID", "LPAREN", "actuals*", "RPAREN"],
  "actuals*": {"?": ["expr*", {"*": ["COMMA", "expr*"]}]},
  "assign" : ["varleft", {"?": ["LBRACKET", "indices*", "RBRACKET"]}, "EQUAL", "expr*"],
  "indices*" : ["expr*", {"*": ["COMMA", "expr*"]}],
  "expr*" : [ "term*", {"*": [{"or": ["PLUS", "MINUS", "EQUAL", "SMALLER", "GREATER"]}, "term*"]}],
  "term*" : [ "factor", {"*": [{"or": ["MUL", "INTEGER_DIV", "FLOAT_DIV"]}, "factor"]}],
  "factor" : {"or": ["call", "varref", "INTEGER_CONST", "REAL_CONST", ["LPAREN", "expr*", "RPAREN"]]},
  "varref": "ID",
  "varleft": "ID",
  "for": ["FOR", "LPAREN", "assign", "SEMI", "expr*", "SEMI", "increment", "RPAREN", "compound"],
  "increment": "assign",
  "if": ["IF", "LPAREN", "expr*", "RPAREN", "compound", "ELSE", "elseCompound"],
  "elseCompound": "compound",

  "TOKENS":
  {
    "ID": "ID",
    "INTEGER_CONST": "INTEGER_CONST",
    "REAL_CONST": "REAL_CONST",
    "PLUS": "+",
    "MINUS": "-",
    "MUL": "*",
    "FLOAT_DIV": "/",
    "LPAREN": "(",
    "RPAREN": ")",
    "LBRACKET": "[",
    "RBRACKET": "]",
    "COMMA": ",",
    "EQUAL": "=",
    "SMALLER": "<",
    "GREATER": ">",
    "SEMI": ";",

    "PROGRAM": "PROGRAM",
    "INTEGER": "INTEGER",
    "REAL": "REAL",
    "INTEGER_DIV": "DIV",
    "VAR": "VAR",
    "FUNCTION": "FUNCTION",
    "CURLYOPEN": "{",
    "CURLYCLOSE": "}",
    "FOR": "FOR",
    "TO": "TO",
    "DO": "DO",
    "IF": "IF",
    "ELSE": "ELSE"
  },

  "SEMANTICS":
  {
    "program": {"id":"Program", "name":"ID", "block": "compound"},
    "function": {"id":"Function", "name":"ID", "formals": "formals*", "block": "compound"},
    "formal": {"id":"Formal", "name":"ID", "type": "type"},
    "call": {"id":"Call", "name":"ID", "actuals": "actuals*"},
    "variable": {"id":"Var", "name":"ID", "type": "type"},
    "varref": {"id":"VarRef", "name":"ID"},
    "assign": {"id":"Assign", "name":"varleft", "indices":"indices*", "value":"expr*"},
    "for": {"id":"For", "from":"assign", "to":"expr*", "increment": "increment", "block":"compound"},
    "expr*": {"id":"Exprs"},
    "term*": {"id":"Terms"}
  },

  "EXTERNALS":
  {
    "setPixelColor": {"pixelNr":"int", "color":"int"},
    "array": {"width":"int", "height":"int", "return": "tbd"}
  }

}
